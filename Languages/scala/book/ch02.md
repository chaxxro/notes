# 类和对象

## 类

字段默认是 `public`，可以手动标记为 `private`

## 单例对象

使用 `object` 关键字

当单例对象跟某个类共用一个名字时，它被称作这个类的伴生对象，且必须在同一文件中定义类和类的伴生对象，这个类被称作伴生类

类和伴生对象可以互相访问对方的私有成员

可以把单例对象当作用于安置静态方法

类和单例对象的一个区别是单例对象不接受构造参数，而类可以

单例对象在有代码首次访问时才被初始化

没有同名的伴生类的单例对象为孤立对象，孤立对象可以定义 Scala 程序的入口等

单例对象可以扩展自某个超类，还可以混入特质，因此可以通过这些类型来调用它的方法，用这些类型的变量来引用它，还可以将它传入那些预期这些类型的入参的方法中

## 构造方法

```scala
class Rational(n: Int, d: Int) {

}
```

类名后面圆括号中的参数是类参数，Scala 编译器会自动创建对应的主构造方法，并且将类定义体中非字段定义或方法定义的代码编译进主构造方法

类参数只能在类定义体中使用，编译器并不会为其生成字段被外界访问

只有主构造方法可以调用超类的构造方法

## 辅助构造方法

除了主构造方法外，还可以定义辅助构造函数，以 `def this(...)` 开始

辅助构造函数必须调用同一个类的另一个构造方法

## 检查前置条件

前置条件是对传入方法或构造方法的值的约束，这是方法调用的必须满足的条件

可以使用 `require` 实现前置条件检查，其接受一个 `boolean` 的参数，参数错误则抛出 `IllegalArgumentException`

```scala
class Rational(n: Int, d: Int) {
    require(d != 0)
}
```

## 重写

Scala 类默认继承了 `java.lang.Object` 类

可以使用 `override` 重写默认的方法实现

```scala
class Rational(n: Int, b: Int) {
    override def toString = s"$n/$d"
}
```

## 重载

方法可以被重载，需要入参不同